<h2
  class="page-title m-3"
  style="margin-bottom: 20px; font-size: 26px; font-weight: 600; color: #000000"
>
  Gesti√≥n de Usuarios
</h2>
<div
  class="action-bar"
  style="display: flex; justify-content: flex-end; padding-bottom: 20px"
>
  <button
    mat-flat-button
    color="primary"
    class="add-button m-3"
    (click)="onOpenModal()"
    style="
      background-color: #2ecc71;
      color: white;
      padding: 10px 20px;
      border-radius: 30px;
      box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16);
    "
  >
    <mat-icon class="me-1">person_add</mat-icon>
    <span style="margin-left: 5px">Agregar Usuario</span>
  </button>
</div>

<div
  class="table-container"
  style="
    background-color: #f7f9f9;
    padding: 25px;
    border-radius: 15px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  "
>
  <table
    mat-table
    [dataSource]="dataSource"
    style="
      width: 100%;
      background-color: white;
      border-radius: 15px;
      overflow: hidden;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    "
  >
    <!-- Nombre -->
    <ng-container matColumnDef="nombre">
      <th
        mat-header-cell
        *matHeaderCellDef
        style="
          padding: 15px;
          font-weight: bold;
          background-color: #ecf0f1;
          color: #34495e;
        "
      >
        Nombre
      </th>
      <td
        mat-cell
        *matCellDef="let element"
        style="padding: 15px; border-radius: 10px 0 0 10px"
      >
        {{ element.nombre }}
      </td>
    </ng-container>

    <!-- Apellidos -->
    <ng-container matColumnDef="apellidos">
      <th
        mat-header-cell
        *matHeaderCellDef
        style="
          padding: 15px;
          font-weight: bold;
          background-color: #ecf0f1;
          color: #34495e;
        "
      >
        Apellidos
      </th>
      <td mat-cell *matCellDef="let element" style="padding: 15px">
        {{ element.apellidos }}
      </td>
    </ng-container>

    <!-- Username -->
    <ng-container matColumnDef="username">
      <th
        mat-header-cell
        *matHeaderCellDef
        style="
          padding: 15px;
          font-weight: bold;
          background-color: #ecf0f1;
          color: #34495e;
        "
      >
        Nombre de usuario
      </th>
      <td mat-cell *matCellDef="let element" style="padding: 15px">
        {{ element.username }}
      </td>
    </ng-container>

    <!-- Email -->
    <ng-container matColumnDef="email">
      <th
        mat-header-cell
        *matHeaderCellDef
        style="
          padding: 15px;
          font-weight: bold;
          background-color: #ecf0f1;
          color: #34495e;
        "
      >
        Correo Electronico
      </th>
      <td mat-cell *matCellDef="let element" style="padding: 15px">
        {{ element.email }}
      </td>
    </ng-container>

    <!-- Roles -->
    <ng-container matColumnDef="rol">
      <th
        mat-header-cell
        *matHeaderCellDef
        style="
          padding: 15px;
          font-weight: bold;
          background-color: #ecf0f1;
          color: #34495e;
        "
      >
        Rol o Roles
      </th>
      <td mat-cell *matCellDef="let element" style="padding: 15px">
        {{ element.roles.toString() }}
      </td>
    </ng-container>

    <!-- Acciones -->
    <ng-container matColumnDef="acciones">
      <th
        mat-header-cell
        *matHeaderCellDef
        style="
          padding: 15px;
          font-weight: bold;
          background-color: #ecf0f1;
          color: #34495e;
        "
      >
        Acciones
      </th>
      <td
        mat-cell
        *matCellDef="let element"
        style="
          padding: 15px;
          display: flex;
          gap: 12px;
          border-radius: 0 10px 10px 0;
        "
      >
        <button
          mat-flat-button
          color="accent"
          class="edit-button"
          (click)="onOpenModal(element)"
          style="
            background-color: #3498db;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
          "
        >
          <mat-icon class="me-2 align-middle">edit</mat-icon>
          Editar
        </button>
        <button
          mat-flat-button
          color="warn"
          class="delete-button"
          (click)="onConfirmDialog(element)"
          style="
            background-color: #e74c3c;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
          "
        >
          <mat-icon class="me-2 align-middle">delete</mat-icon>
          Eliminar
        </button>
      </td>
    </ng-container>

    <tr
      mat-header-row
      *matHeaderRowDef="displayColumns"
      style="border-radius: 15px"
    ></tr>
    <tr
      mat-row
      *matRowDef="let row; columns: displayColumns"
      style="border-radius: 15px"
    ></tr>
  </table>
  <mat-paginator
    [pageSizeOptions]="[5, 10, 25, 50, 100]"
    style="margin-top: 25px; color: #34495e"
  ></mat-paginator>
</div>
